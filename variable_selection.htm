
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="author" content="">

		<title>AM 207 Final Project Website</title>

		<!-- Bootstrap core CSS -->
		<link href="./bootstrap-3.3.1/css/bootstrap.min.css" rel="stylesheet">
		
		<!-- Bootstrap core CSS -->
		<link href="./bootstrap-3.3.1/css/bootstrap.icon-large.min.css" rel="stylesheet">
		
		<!-- Custom styles for the homepage -->
		<link href="./css/main.css" rel="stylesheet">

		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		    <!--[if lt IE 9]>
		      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		        <![endif]-->
	</head>
	
<body>
<!-- Fixed navbar -->
<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
		<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		  </button>
      <a class="navbar-brand" href="./index.htm">Bayesketball</a>
    </div>
    <div class="navbar-collapse collapse navbar-responsive-collapse">
      <ul class="nav navbar-nav">
        <li><a href="./background.htm">BACKGROUND</a></li>
        <li><a href="./data.htm">DATA</a></li>
		<li class="dropdown">
			<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">ANALYSIS <span class="caret"></span></a>
				<ul class="dropdown-menu" role="menu">
					<li><a href="./variable_selection.htm">Variable Selection</a></li>
					<li><a href="./bayesian_modeling.htm">Bayesian Modeling</a></li>
					<li><a href="./simulation.htm">Simulation</a></li>
				</ul>
		</li>
        <li><a href="./next_steps.htm">NEXT STEPS</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
		<li><a href="./contact.htm">ABOUT THE AUTHORS</a></li> 
      </ul>
    </div>
  </div>
</nav>

<!-- Content -->
<!-- Collapsible Bar -->
<!-- Add Padding -->
  </br>
  </br>
  </br>
  </br>
<div class="container">
<div class="container">
	<h2>Variable Selection</h2>
	<p> We decided to use the variable importance measure from random forests to decide which predictors to include in our Bayesian logistic regression. The variable importance measure is computed from permuting out-of-bag data: For each tree, the prediction classification error on the out-of-bag portion of the data is recorded. Then the same is done after permuting each predictor variable. The difference between the two are then averaged over all trees, and normalized by the standard deviation of the differences. The predictor with the most decrease in prediction accuracy would have the highest importance. </p>

	<p> We trained a random forest on the data set using location (home, away, or neutral) and quantitative features that measure the differences in the team statistics per game. We then computed the relative importance of each predictor and iterated over the N most important predictors. For each iteration, we estimated the test accuracy with 10-fold cross validation on the training data, 2015 regular season games. As shown in the chart below, as N increases, the cross-validation accuracy score increases but levels off after N = 5. Therefore, we included the 5 most important features from the random forest as our predictors: diff_Pythag, diff_AdjOE, diff_AdjDE, location_Away, and diff_RankAdjDE. </p>

	<div class="container" align="center"> 
		<img src="img/variable_selection/RF Importance.png" alt="RF_Importance" class="img-responsive" /> 
		<img src="img/variable_selection/XVal Scores.png" alt="xval_scores" align="center" class="img-responsive" />
	</div>

</div>
	

<!-- Bootstrap core JavaScript. Placed at the end of the document so the pages load faster. -->
<script src="./js/jquery-1.11.1.min.js"></script>
<script src="./bootstrap-3.3.1/js/bootstrap.min.js"></script>

</body>
</html>
